# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –¥–∏–∞–ª–æ–≥–∏](#–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å-–∏-–¥–∏–∞–ª–æ–≥–∏)
2. [–û—Ç—Ä–∏—Å–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤](#–æ—Ç—Ä–∏—Å–æ–≤–∫–∞-—ç–ª–µ–º–µ–Ω—Ç–æ–≤)
3. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–∫–∞–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å—Ç—Ä–µ–ª–∫–∞–º–∏)
4. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–º–∞—Ä—à—Ä—É—Ç–∞–º–∏)
5. [–†–∞–±–æ—Ç–∞ —Å Arduino](#—Ä–∞–±–æ—Ç–∞-—Å-arduino)
6. [–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-—Å–æ–±—ã—Ç–∏–π)
7. [–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏)

---

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –¥–∏–∞–ª–æ–≥–∏

### `showInfo(title, msg)`
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ –æ–∫–Ω–æ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `title` (str) ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞
- `msg` (str) ‚Äî —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

**–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:** –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ –¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è

---

### `set_arduino_status(connected: bool, text: str = "")`
–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Arduino –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `connected` (bool) ‚Äî —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `text` (str) ‚Äî –∏–º—è –ø–æ—Ä—Ç–∞ –∏–ª–∏ –ø–æ—è—Å–Ω–µ–Ω–∏–µ

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `arduino_status_label`

---

### `create_switch_table()`
–°–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—É —Å—Ç—Ä–µ–ª–æ–∫ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É —ç–∫—Ä–∞–Ω–∞.

**–ó–∞–ø–æ–ª–Ω—è–µ—Ç:** `switch_ids`, `switch_text_ids`, `switch_indicator_ids`

---

## –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### `drawDeadEnd(name, direction, offset)`
–†–∏—Å—É–µ—Ç —Ç—É–ø–∏–∫ (–∫–æ–Ω—Ü–µ–≤—É—é –∑–∞–≥–ª—É—à–∫—É) –æ—Ç —É–∑–ª–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` (str) ‚Äî –∏–º—è —Ç–æ—á–∫–∏ –∏–∑ `positions`
- `direction` (str) ‚Äî `"right"` –∏–ª–∏ `"left"`
- `offset` (int/float) ‚Äî –¥–ª–∏–Ω–∞ –æ—Ç—Å—Ç—É–ø–∞ –æ—Ç —É–∑–ª–∞

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `positions`, `canvas`

---

### `drawSignal(name, mount="bottom", pack_side="right", count=3, colors=None)`
–†–∏—Å—É–µ—Ç —Å–≤–µ—Ç–æ—Ñ–æ—Ä —É –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —É–∑–ª–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` (str) ‚Äî —É–∑–µ–ª –∏–∑ `positions`
- `mount` (str) ‚Äî `"top"` –∏–ª–∏ `"bottom"` (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–π–∫–∏)
- `pack_side` (str) ‚Äî `"left"` –∏–ª–∏ `"right"` (—Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ª–∞–º–ø)
- `count` (int) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–≥–Ω–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3)
- `colors` (list[str] | None) ‚Äî –Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–ª–∏–≤–∫–∞ –ª–∞–º–ø

**–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç:** `signal_ids[name] = [oval_id...]`

---

### `AddDiagonal(x1, y1, x2, y2, offsetleft, offsetright, nameDiag)`
–°–æ–∑–¥–∞—ë—Ç –¥–∏–∞–≥–æ–Ω–∞–ª—å (—Å—Ç—Ä–µ–ª–∫—É) –∫–∞–∫ —Ç—Ä–∏ –ª–∏–Ω–∏–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `x1, y1, x2, y2` ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞
- `offsetleft, offsetright` ‚Äî —Å–º–µ—â–µ–Ω–∏—è –¥–ª—è –≤–µ—Ç–≤–µ–π
- `nameDiag` (str) ‚Äî –∏–º—è –¥–∏–∞–≥–æ–Ω–∞–ª–∏

**–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç:** `diag_ids[nameDiag] = [l1, l2, l3]`

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–∫–∞–º–∏

### `set_diagonal_mode(nameDiag, mode)`
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–∫–∏ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `nameDiag` (str) ‚Äî –∏–º—è —Å—Ç—Ä–µ–ª–∫–∏
- `mode` (str) ‚Äî `"left"`, `"right"` –∏–ª–∏ `"both"`

**–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç:** `diagonal_modes[nameDiag]`

---

### `apply_diagonal_mode(nameDiag, mode)`
–ü—Ä–∏–º–µ–Ω—è–µ—Ç –ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–∫–∏ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—â–∏–Ω—ã —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `nameDiag` (str) ‚Äî –∏–º—è —Å—Ç—Ä–µ–ª–∫–∏
- `mode` (str) ‚Äî `"left"`, `"right"` –∏–ª–∏ `"both"`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è `ALB_Turn8`, `ALB_Turn2`, `ALB_Turn4-6`, `ALB_Turn1`

---

### `setBranchRight(nameDiag, offset)` / `setBranchLeft(nameDiag, offset)`
–í–∏–∑—É–∞–ª—å–Ω–æ —Å–º–µ—â–∞–µ—Ç –≤–µ—Ç–∫—É –¥–∏–∞–≥–æ–Ω–∞–ª–∏ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `nameDiag` (str) ‚Äî –∏–º—è –¥–∏–∞–≥–æ–Ω–∞–ª–∏
- `offset` (int/float) ‚Äî —Å–º–µ—â–µ–Ω–∏–µ –ø–æ Y

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `diag_ids[nameDiag]`

---

### `branchWidth(namediag, width)`
–ó–∞–¥–∞—ë—Ç —Ç–æ–ª—â–∏–Ω—É –ª–∏–Ω–∏–π –¥–∏–∞–≥–æ–Ω–∞–ª–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `namediag` (str) ‚Äî –∏–º—è –¥–∏–∞–≥–æ–Ω–∞–ª–∏
- `width` (int) ‚Äî —Ç–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–∏

---

### `get_switch_state_num(name)`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∏–º–≤–æ–ª—å–Ω–æ–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è —Å—Ç—Ä–µ–ª–∫–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` (str) ‚Äî –∏–º—è —Å—Ç—Ä–µ–ª–∫–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `"+"` (–Ω–æ—Ä–º–∞), `"-"` (–ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞) –∏–ª–∏ `"None"`

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `diagonal_modes`, `default_switch_mode`

---

### `get_switch_state_color(name)`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–≤–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Å—Ç—Ä–µ–ª–∫–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` (str) ‚Äî –∏–º—è —Å—Ç—Ä–µ–ª–∫–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `"green"` (–Ω–æ—Ä–º–∞), `"yellow"` (–ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞), `"grey"` (–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ)

---

### `update_switch_indicator(name)`
–û–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏ —Ç–µ–∫—Å—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ —Å—Ç—Ä–µ–ª–æ–∫.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` (str) ‚Äî –∏–º—è —Å—Ç—Ä–µ–ª–∫–∏

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `switch_indicator_ids`, `switch_text_ids`

---

### `blink_switches(diags, duration_ms=2000, interval_ms=200)`
–ú–∏–≥–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–µ–ª–æ–∫.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `diags` (list[str]) ‚Äî —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–µ–ª–æ–∫
- `duration_ms` (int) ‚Äî –æ–±—â–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–∏–≥–∞–Ω–∏—è
- `interval_ms` (int) ‚Äî –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –º–∏–≥–∞–Ω–∏—è–º–∏

**–ú–µ—Ö–∞–Ω–∏–∑–º:** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `root.after()`

---

### `blink_diag(name, duration_ms=2000, interval_ms=200)`
–ú–∏–≥–∞–µ—Ç –æ–¥–Ω–æ–π –¥–∏–∞–≥–æ–Ω–∞–ª—å—é –Ω–∞ —Å—Ö–µ–º–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` (str) ‚Äî –∏–º—è –¥–∏–∞–≥–æ–Ω–∞–ª–∏
- `duration_ms` (int) ‚Äî –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- `interval_ms` (int) ‚Äî –∏–Ω—Ç–µ—Ä–≤–∞–ª

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏

### `format_routes(routes_dict)`
–§–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤–∏–¥–∞ `A ‚Üí B`.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `routes_dict` (dict) ‚Äî —Å–ª–æ–≤–∞—Ä—å –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –∫–ª—é—á–∞–º–∏ `(start, end)`

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** —É–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã

---

### `show_maneuver_routes()`
–ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤ –º–∞–Ω–µ–≤—Ä–æ–≤—ã–π —Ä–µ–∂–∏–º –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –º–∞–Ω–µ–≤—Ä–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤.

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** `settingRoute`, `routes`

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –≤—ã–∑–æ–≤, –µ—Å–ª–∏ `settingRoute == True`

---

### `show_train_routes()`
–ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤ –ø–æ–µ–∑–¥–Ω–æ–π —Ä–µ–∂–∏–º –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–µ–∑–¥–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤.

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** `settingRoute`, `train_routes`

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –≤—ã–∑–æ–≤, –µ—Å–ª–∏ `settingRoute == True`

---

### `set_mode(mode)`
–ú–µ–Ω—è–µ—Ç —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (–º–∞–Ω–µ–≤—Ä–æ–≤—ã–π/–ø–æ–µ–∑–¥–Ω–æ–π).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `mode` (str) ‚Äî `"maneuver"` –∏–ª–∏ `"train"`

**–≠—Ñ—Ñ–µ–∫—Ç—ã:**
- –û–±–Ω–æ–≤–ª—è–µ—Ç `current_mode`
- –ü–µ—Ä–µ–∫—Ä–∞—à–∏–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏
- –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—ã–±–æ—Ä —É–∑–ª–æ–≤

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `btn_maneuver`, `btn_train`

---

### `get_route(start, end)`
–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —à–∞–≥–æ–≤ –º–∞—Ä—à—Ä—É—Ç–∞ –≤ —Ç–µ–∫—É—â–µ–º —Ä–µ–∂–∏–º–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `start` (str) ‚Äî –Ω–∞—á–∞–ª—å–Ω—ã–π —É–∑–µ–ª
- `end` (str) ‚Äî –∫–æ–Ω–µ—á–Ω—ã–π —É–∑–µ–ª

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `list[dict]` –∏–ª–∏ `None`

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `current_mode`, `routes`, `train_routes`

---

### `paint_route(start, end, color="yellow")`
–û–∫—Ä–∞—à–∏–≤–∞–µ—Ç –≤–µ—Å—å –º–∞—Ä—à—Ä—É—Ç (—Å–µ–≥–º–µ–Ω—Ç—ã + —Å—Ç—Ä–µ–ª–∫–∏).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `start` (str) ‚Äî –Ω–∞—á–∞–ª—å–Ω—ã–π —É–∑–µ–ª
- `end` (str) ‚Äî –∫–æ–Ω–µ—á–Ω—ã–π —É–∑–µ–ª
- `color` (str) ‚Äî —Ü–≤–µ—Ç –æ–∫—Ä–∞—Å–∫–∏

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –º–∞—Ä—à—Ä—É—Ç –≤ –æ–±–æ–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö

---

### `paint_segment(key, color)`
–ü–µ—Ä–µ–∫—Ä–∞—à–∏–≤–∞–µ—Ç –æ–¥–∏–Ω —Å–µ–≥–º–µ–Ω—Ç –ø—É—Ç–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (tuple[str, str]) ‚Äî –ø–∞—Ä–∞ —É–∑–ª–æ–≤ `(a, b)`
- `color` (str) ‚Äî —Ü–≤–µ—Ç

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –º–æ–ª—á–∞ –≤—ã—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ —Å–µ–≥–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ `segment_ids`

---

### `paint_diagonal(name, color)`
–ü–µ—Ä–µ–∫—Ä–∞—à–∏–≤–∞–µ—Ç –≤—Å–µ –ª–∏–Ω–∏–∏ –¥–∏–∞–≥–æ–Ω–∞–ª–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` (str) ‚Äî –∏–º—è –¥–∏–∞–≥–æ–Ω–∞–ª–∏
- `color` (str) ‚Äî —Ü–≤–µ—Ç

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `diag_ids`, `canvas`

---

### `blink_route(start, end, duration_ms=2000, interval_ms=200)`
–ú–∏–≥–∞–µ—Ç –æ–∫—Ä–∞—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `start` (str) ‚Äî –Ω–∞—á–∞–ª—å–Ω—ã–π —É–∑–µ–ª
- `end` (str) ‚Äî –∫–æ–Ω–µ—á–Ω—ã–π —É–∑–µ–ª
- `duration_ms` (int) ‚Äî –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- `interval_ms` (int) ‚Äî –∏–Ω—Ç–µ—Ä–≤–∞–ª

**–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç:** –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ `blinking_routes`

---

### `next_route_id()`
–í—ã–¥–∞—ë—Ç –Ω–æ–≤—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–∞.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `int`

**–ò–∑–º–µ–Ω—è–µ—Ç:** —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç `route_counter`

---

### `register_route(start, end)`
–†–µ–∑–µ—Ä–≤–∏—Ä—É–µ—Ç —Å–µ–≥–º–µ–Ω—Ç—ã/—Å—Ç—Ä–µ–ª–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∞ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `start` (str) ‚Äî –Ω–∞—á–∞–ª—å–Ω—ã–π —É–∑–µ–ª
- `end` (str) ‚Äî –∫–æ–Ω–µ—á–Ω—ã–π —É–∑–µ–ª

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `rid` (int) ‚Äî ID –º–∞—Ä—à—Ä—É—Ç–∞

**–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç:** `occupied_segments`, `occupied_diagonals`, `active_routes`

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º–∞—Ä—à—Ä—É—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Å–ª–æ–≤–∞—Ä–µ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ `(start, end)`

---

### `release_route(route_id)`
–°–Ω–∏–º–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç: –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Å–µ–≥–º–µ–Ω—Ç—ã/—Å—Ç—Ä–µ–ª–∫–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–∫—Ä–∞—Å–∫—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `route_id` (int) ‚Äî ID –º–∞—Ä—à—Ä—É—Ç–∞

**–ò–∑–º–µ–Ω—è–µ—Ç:** `occupied_segments`, `occupied_diagonals`, `active_routes`

**–í—ã–∑—ã–≤–∞–µ—Ç:** `comboboxDelete()`

---

### `check_route_conflict(start, end)`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–Ω–æ –ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç (—Å—Ç—Ä–µ–ª–∫–∏ + –∑–∞–Ω—è—Ç–æ—Å—Ç—å).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `start` (str) ‚Äî –Ω–∞—á–∞–ª—å–Ω—ã–π —É–∑–µ–ª
- `end` (str) ‚Äî –∫–æ–Ω–µ—á–Ω—ã–π —É–∑–µ–ª

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `bool` ‚Äî `True` = –∫–æ–Ω—Ñ–ª–∏–∫—Ç (–Ω–µ–ª—å–∑—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)

**‚ö†Ô∏è –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å:** –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ (`.get(...)=None`)

---

### `has_switch_conflict(a, b)`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ–ª–æ–∂–µ–Ω–∏–π —Å—Ç—Ä–µ–ª–æ–∫ –º–µ–∂–¥—É –Ω–æ–≤—ã–º –∏ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `a` (str) ‚Äî –Ω–∞—á–∞–ª—å–Ω—ã–π —É–∑–µ–ª
- `b` (str) ‚Äî –∫–æ–Ω–µ—á–Ω—ã–π —É–∑–µ–ª

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `bool`

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `route_switch_modes`, `active_routes`

---

### `check_if_route_finished(seg, rev)`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –ø—Ä–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏ —Å–µ–≥–º–µ–Ω—Ç–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `seg` (tuple[str, str]) ‚Äî –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º—ã–π —Å–µ–≥–º–µ–Ω—Ç
- `rev` (tuple[str, str]) ‚Äî –æ–±—Ä–∞—Ç–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `active_routes`, `segment_to_block`, `segment_groups`

**–í—ã–∑—ã–≤–∞–µ—Ç:** `release_route()`

---

### `is_segment_in_blinking_route(seg)`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ª–∏ —Å–µ–≥–º–µ–Ω—Ç –º–∏–≥–∞—é—â–µ–º—É –º–∞—Ä—à—Ä—É—Ç—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `seg` (tuple[str, str]) ‚Äî —Å–µ–≥–º–µ–Ω—Ç

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `bool`

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `blinking_routes`, `routes`

---

### `comboboxDelete(ids)`
–£–¥–∞–ª—è–µ—Ç ID –º–∞—Ä—à—Ä—É—Ç–∞ –∏–∑ combobox.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `ids` (int | str) ‚Äî ID –º–∞—Ä—à—Ä—É—Ç–∞

**‚ö†Ô∏è –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å:** –Ω–µ–æ–±—Ö–æ–¥–∏–º –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–ª—É—á—à–µ —Å—Ç—Ä–æ–∫–∏)

---

### `snos()`
–°–Ω–∏–º–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç, –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤ combobox.

**–í—ã–∑—ã–≤–∞–µ—Ç:** `release_route()`

---

### `snosAll()`
–°–Ω–∏–º–∞–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã.

---

## –†–∞–±–æ—Ç–∞ —Å Arduino

### `find_arduino_port()`
–ò—â–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π COM-–ø–æ—Ä—Ç –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `str | None` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"COM3"`)

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –µ—Å–ª–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω, –±–µ—Ä—ë—Ç –ø–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π

---

### `init_arduino(port=None, baudrate=9600)`
–û—Ç–∫—Ä—ã–≤–∞–µ—Ç COM-–ø–æ—Ä—Ç Arduino.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `port` (str | None) ‚Äî –µ—Å–ª–∏ `None`, –∏—â–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- `baudrate` (int) ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 9600)

**–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç:** –≥–ª–æ–±–∞–ª—å–Ω—ã–π `ser`

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ø—Ä–∏ `SerialException` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `ser=None` –∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

---

### `bytes_to_bits(data: bytes, bits_needed: int) -> list[int]`
–†–∞—Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç –±–∞–π—Ç—ã –≤ —Å–ø–∏—Å–æ–∫ –±–∏—Ç–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `data` (bytes) ‚Äî –≤—Ö–æ–¥–Ω—ã–µ –±–∞–π—Ç—ã
- `bits_needed` (int) ‚Äî —Ç—Ä–µ–±—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏—Ç–æ–≤

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** —Å–ø–∏—Å–æ–∫ –∏–∑ 0 –∏ 1 –¥–ª–∏–Ω–æ–π `bits_needed`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –º–ª–∞–¥—à–∏–π –±–∏—Ç –ø–µ—Ä–≤—ã–º

---

### `apply_bits_to_segments(bits: list[int])`
–ü—Ä–∏–º–µ–Ω—è–µ—Ç –±–∏—Ç—ã –∫–Ω–æ–ø–æ–∫ –∫ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ —Å–µ–≥–º–µ–Ω—Ç–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `bits` (list[int]) ‚Äî —Å–ø–∏—Å–æ–∫ –±–∏—Ç–æ–≤

**–õ–æ–≥–∏–∫–∞:**
- `1` = –∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞ ‚Üí `seg_occ_train[seg] = 0` (–∑–∞–Ω—è—Ç)
- `0` = –æ—Ç–ø—É—â–µ–Ω–∞ ‚Üí `seg_occ_train[seg] = 1` (—Å–≤–æ–±–æ–¥–µ–Ω)

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `last_bits` (–ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è), `SEGMENT_ORDER`

---

### `poll_arduino()`
–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —á–∏—Ç–∞–µ—Ç –±–∞–π—Ç –∏–∑ Arduino –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–Ω—è—Ç–æ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç–æ–≤.

**–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å:** –∫–∞–∂–¥—ã–µ ~20 –º—Å —á–µ—Ä–µ–∑ `root.after(20, poll_arduino)`

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ø—Ä–∏ –æ—à–∏–±–∫–µ —á—Ç–µ–Ω–∏—è –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

---

### `update_all_occupancy()`
–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –æ–∫—Ä–∞—Å–∫—É —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∏ –¥–∏–∞–≥–æ–Ω–∞–ª–µ–π –ø–æ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏.

**–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å:** –∫–∞–∂–¥—ã–µ 100 –º—Å —á–µ—Ä–µ–∑ `root.after(100, update_all_occupancy)`

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `seg_occ_train`, `diag_occ_train`, `occupied_segments`, `occupied_diagonals`, `segment_groups`

**‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏–µ:** —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–∏–∫–∏ –±–ª–æ–∫–æ–≤ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –æ–∫—Ä–∞—Å–∫–∏

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π

### `on_node_click(event)`
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∏–∫ –ø–æ —É–∑–ª—É (–≤—ã–±–æ—Ä —Ç–æ—á–µ–∫ –º–∞—Ä—à—Ä—É—Ç–∞).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `event` ‚Äî —Å–æ–±—ã—Ç–∏–µ Tkinter

**–ò–∑–º–µ–Ω—è–µ—Ç:** `selected_nodes`

**–í—ã–∑—ã–≤–∞–µ—Ç:** `highlight_possible_targets()`, `on_two_nodes_selected()`

---

### `on_two_nodes_selected(a, b)`
–û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ –¥–≤—É–º –≤—ã–±—Ä–∞–Ω–Ω—ã–º —É–∑–ª–∞–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `a` (str) ‚Äî –ø–µ—Ä–≤—ã–π —É–∑–µ–ª
- `b` (str) ‚Äî –≤—Ç–æ—Ä–æ–π —É–∑–µ–ª

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
2. –ù–∞—Ö–æ–¥–∏—Ç —Ç—Ä–µ–±—É–µ–º—ã–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è —Å—Ç—Ä–µ–ª–æ–∫
3. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Å—Ç—Ä–µ–ª–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –∏ –º–∏–≥–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç
5. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç —á–µ—Ä–µ–∑ —Ç–∞–π–º–µ—Ä

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `settingRoute`, `route_switch_modes`, `diagonal_modes`

---

### `on_switch_click(event)`
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ –ø–æ–ª–æ–∂–µ–Ω–∏—è —Å—Ç—Ä–µ–ª–∫–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `event` ‚Äî —Å–æ–±—ã—Ç–∏–µ Tkinter

---

### `on_switch_mode_selected(name, mode)`
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–∫–∏ –ø–æ –≤—ã–±–æ—Ä—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` (str) ‚Äî –∏–º—è —Å—Ç—Ä–µ–ª–∫–∏
- `mode` (int) ‚Äî `0` ("+"), `1` ("-")

**–ü—Ä–æ–≤–µ—Ä–∫–∏ (–∑–∞–ø—Ä–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è):**
- `changingSwitches` —É–∂–µ `True`
- –°—Ç—Ä–µ–ª–∫–∞ –∑–∞–Ω—è—Ç–∞ (`diag_occ_train[name] == 0`)
- –°—Ç—Ä–µ–ª–∫–∞ –≤ –∞–∫—Ç–∏–≤–Ω–æ–º –º–∞—Ä—à—Ä—É—Ç–µ –∏–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç
- `settingRoute == True`

**–≠—Ñ—Ñ–µ–∫—Ç—ã:** –º–∏–≥–∞–Ω–∏–µ ‚Üí –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ `set_diagonal_mode()` —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π

---

### `on_enter(event)` / `on_leave(event)`
Hover-—ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è —É–∑–ª–æ–≤ (–ø–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `event` ‚Äî —Å–æ–±—ã—Ç–∏–µ Tkinter

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `selected_nodes`, `node_ids`

---

### `switch_on_enter(event)` / `switch_on_leave(event)`
Hover-—ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è —Å—Ç—Ä–æ–∫ —Å—Ç—Ä–µ–ª–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `event` ‚Äî —Å–æ–±—ã—Ç–∏–µ Tkinter

---

## –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### `get_node_name_from_event(event)`
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–º—è —É–∑–ª–∞ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É canvas –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `event` ‚Äî —Å–æ–±—ã—Ç–∏–µ Tkinter

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `str | None`

**–ú–µ—Ö–∞–Ω–∏–∑–º:** –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–≥–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ `"current"`

---

### `get_switch_name_from_event(event)`
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–º—è —Å—Ç—Ä–µ–ª–∫–∏ –ø–æ —Å—Ç—Ä–æ–∫–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `event` ‚Äî —Å–æ–±—ã—Ç–∏–µ Tkinter

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `str | None`

---

### `highlight_possible_targets(start)`
–ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø–µ—Ä–≤–æ–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `start` (str) ‚Äî –Ω–∞—á–∞–ª—å–Ω—ã–π —É–∑–µ–ª

**–≠—Ñ—Ñ–µ–∫—Ç—ã:** –∏–∑–º–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç/–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–∑–ª–æ–≤ –Ω–∞ canvas

---

### `reset_node_selection()`
–°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–µ —É–∑–ª–æ–≤.

**–û—á–∏—â–∞–µ—Ç:** `selected_nodes`

**–≠—Ñ—Ñ–µ–∫—Ç—ã:** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π —Ü–≤–µ—Ç —É–∑–ª–æ–≤

---

### `disable_all_except_selected()`
–û—Ç–∫–ª—é—á–∞–µ—Ç –≤—Å–µ —É–∑–ª—ã –∫—Ä–æ–º–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–∏—à–Ω–∏–µ –∫–ª–∏–∫–∏).

---

### `apply_mode_visuals()`
–ü—Ä–∏–º–µ–Ω—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞.

**–ü—Ä–∏–º–µ—Ä:** –æ—Ç–∫–ª—é—á–∞–µ—Ç —É–∑–µ–ª `CH` –≤ –º–∞–Ω–µ–≤—Ä–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:** `current_mode`, –∏–∑–º–µ–Ω—è–µ—Ç `node_ids`

---

### `visualSwitch(key)`
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —É—Å–∏–ª–µ–Ω–∏–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `key` (tuple[str, str]) ‚Äî –ø–∞—Ä–∞ —É–∑–ª–æ–≤

**‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏–µ:** "—Ä—É—á–Ω–æ–π —Ö–∞–∫", –ª—É—á—à–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

---

### `do(button_id)`
–û—Ç–ª–∞–¥–æ—á–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ —Å–µ–≥–º–µ–Ω—Ç–æ–≤/–¥–∏–∞–≥–æ–Ω–∞–ª–µ–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `button_id` (int) ‚Äî –Ω–æ–º–µ—Ä –∫–Ω–æ–ø–∫–∏

**–≠—Ñ—Ñ–µ–∫—Ç—ã:** –∏–∑–º–µ–Ω—è–µ—Ç `seg_occ_train` –∏–ª–∏ `diag_occ_train`

---

### `check()`
–û—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤—ã–≤–æ–¥ –∞–∫—Ç–∏–≤–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª—å.

---

## üîç –ì–ª–æ—Å—Å–∞—Ä–∏–π —Ç–µ—Ä–º–∏–Ω–æ–≤

- **–°–µ–≥–º–µ–Ω—Ç** ‚Äî —É—á–∞—Å—Ç–æ–∫ –ø—É—Ç–∏ –º–µ–∂–¥—É –¥–≤—É–º—è —É–∑–ª–∞–º–∏
- **–î–∏–∞–≥–æ–Ω–∞–ª—å (—Å—Ç—Ä–µ–ª–∫–∞)** ‚Äî —ç–ª–µ–º–µ–Ω—Ç –ø—É—Ç–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–≤–µ—Ç–≤–ª–µ–Ω–∏—è
- **–£–∑–µ–ª** ‚Äî —Ç–æ—á–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- **–ú–∞—Ä—à—Ä—É—Ç** ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∏ —Å—Ç—Ä–µ–ª–æ–∫ –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–π –¥–æ –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏
- **–†–µ–∂–∏–º** ‚Äî –º–∞–Ω–µ–≤—Ä–æ–≤—ã–π –∏–ª–∏ –ø–æ–µ–∑–¥–Ω–æ–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
- **–ó–∞–Ω—è—Ç–æ—Å—Ç—å** ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–∞/—Å—Ç—Ä–µ–ª–∫–∏ (–∑–∞–Ω—è—Ç –ø–æ–µ–∑–¥–æ–º –∏–ª–∏ —Å–≤–æ–±–æ–¥–µ–Ω)
- **–†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
